{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\n\nconst useWordle = solution => {\n  _s();\n\n  const [turn, setTurn] = useState(0); // track current turn\n\n  const [currentGuess, setCurrentGuess] = useState('');\n  const [guesses, setGuesses] = useState([...Array(6)]); // each guess is an array\n\n  const [history, setHistory] = useState([]); // each guess is a string\n\n  const [isCorrect, setIsCorrect] = useState(false); // format a guess into an array of letter objects\n\n  const formatGuess = () => {\n    let solutionArray = [...solution];\n    let formattedGuess = [...currentGuess].map(l => {\n      return {\n        key: l,\n        color: 'grey'\n      };\n    }); // find any green letters\n\n    formattedGuess.forEach((l, i) => {\n      if (solutionArray[i] === l.key) {\n        l.color = 'green';\n        solutionArray[i] = null;\n      }\n    }); // find any yellow letters\n\n    formattedGuess.forEach((l, i) => {\n      if (solutionArray.includes(l.key) && l.color !== 'green') {\n        formattedGuess[i].color = 'yellow';\n        solutionArray[solutionArray.indexOf(l.key)] = null;\n      }\n    });\n    return formattedGuess;\n  }; // add a new guess to the guesses state\n  // checks if guess is correct and updates isCorrect state\n  // add one to turn count state\n\n\n  const addNewGuess = guess => {\n    if (currentGuess === solution) {\n      setIsCorrect(true);\n    }\n\n    setGuesses(prevGuesses => {\n      let newGuesses = [...prevGuesses];\n      newGuesses[turn] = guess;\n      return newGuesses;\n    });\n    setHistory(prevHistory => {\n      return [...prevHistory, currentGuess];\n    });\n    setTurn(prevTurn => prevTurn + 1);\n    setCurrentGuess('');\n  }; // tracjs currrent turn and registers if enter is pressed\n\n\n  const handleKeyup = _ref => {\n    let {\n      key\n    } = _ref;\n\n    if (key === 'Enter') {\n      // only add guess if turn is less thn length\n      if (turn > 5) {\n        console.log(\"you used all your guesses\");\n        return;\n      } // do not allow duplicate words\n\n\n      if (history.includes(currentGuess)) {\n        console.log(\"you already tried that word\");\n        return;\n      } // check word is 5 chars long\n\n\n      if (currentGuess.length !== 5) {\n        console.log(\"word must be 5 letters\");\n        return;\n      }\n\n      const formatted = formatGuess();\n      addNewGuess(formatted);\n    }\n\n    if (key === 'Backspace') {\n      setCurrentGuess(prev => prev.slice(0, -1));\n      return;\n    }\n\n    if (/^[A-Za-z]$/.test(key)) {\n      if (currentGuess.length < 5) {\n        setCurrentGuess(prev => prev + key.toUpperCase());\n      }\n    }\n  };\n\n  return {\n    turn,\n    currentGuess,\n    guesses,\n    isCorrect,\n    handleKeyup\n  };\n};\n\n_s(useWordle, \"dCcTfI6cWxblKRWl+nFnNGvNbio=\");\n\nexport default useWordle;","map":{"version":3,"sources":["/Users/kirannew/pw/miniapps/wordle/src/hooks/useWordle.js"],"names":["useState","useWordle","solution","turn","setTurn","currentGuess","setCurrentGuess","guesses","setGuesses","Array","history","setHistory","isCorrect","setIsCorrect","formatGuess","solutionArray","formattedGuess","map","l","key","color","forEach","i","includes","indexOf","addNewGuess","guess","prevGuesses","newGuesses","prevHistory","prevTurn","handleKeyup","console","log","length","formatted","prev","slice","test","toUpperCase"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\n\n\nconst useWordle = (solution) => {\n    const [turn, setTurn] = useState(0); // track current turn\n    const [currentGuess, setCurrentGuess] = useState('');\n    const [guesses, setGuesses] = useState([...Array(6)]); // each guess is an array\n    const [history, setHistory] = useState([]); // each guess is a string\n    const [isCorrect, setIsCorrect] = useState(false);\n\n    // format a guess into an array of letter objects\n    const formatGuess = () => {\n        let solutionArray = [...solution];\n        let formattedGuess = [...currentGuess].map((l) => {\n            return {key: l, color: 'grey'};\n        });\n        \n        // find any green letters\n        formattedGuess.forEach((l, i) => {\n            if (solutionArray[i] === l.key) {\n                l.color = 'green';\n                solutionArray[i] = null;\n            }\n        });\n\n        // find any yellow letters\n        formattedGuess.forEach((l, i) => {\n            if (solutionArray.includes(l.key) && l.color !== 'green') {\n                formattedGuess[i].color = 'yellow';\n                solutionArray[solutionArray.indexOf(l.key)] = null;\n            }\n        });\n\n        return formattedGuess\n    }\n\n\n    // add a new guess to the guesses state\n    // checks if guess is correct and updates isCorrect state\n    // add one to turn count state\n    const addNewGuess = (guess) => {\n        if (currentGuess === solution) {\n            setIsCorrect(true);\n        }\n\n        setGuesses((prevGuesses) => {\n            let newGuesses = [...prevGuesses];\n            newGuesses[turn] = guess;\n            return newGuesses;\n        });\n\n        setHistory((prevHistory) => {\n            return [...prevHistory, currentGuess];\n        });\n\n        setTurn((prevTurn) => prevTurn + 1);\n        setCurrentGuess('');\n    }\n\n    // tracjs currrent turn and registers if enter is pressed\n    const handleKeyup = ({key}) => {\n        if (key === 'Enter') {\n            // only add guess if turn is less thn length\n            if (turn > 5) {\n                console.log(\"you used all your guesses\");\n                return;\n            }\n            // do not allow duplicate words\n            if (history.includes(currentGuess)) {\n                console.log(\"you already tried that word\");\n                return;\n            }\n            // check word is 5 chars long\n            if (currentGuess.length !== 5) {\n                console.log(\"word must be 5 letters\");\n                return;\n            }\n\n            const formatted = formatGuess()\n            addNewGuess(formatted)\n        }\n\n        if (key === 'Backspace') {\n            setCurrentGuess(prev => prev.slice(0, -1));\n            return;\n        }\n\n        if (/^[A-Za-z]$/.test(key)) {\n            if (currentGuess.length < 5) {\n                setCurrentGuess(prev => prev + key.toUpperCase());\n            }\n        }\n\n        \n    }\n\n    return { turn, currentGuess, guesses, isCorrect, handleKeyup };\n        \n}\n\nexport default useWordle;"]},"metadata":{},"sourceType":"module"}